<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}</style><style data-href="/blog/styles.5e541d0321687e913c3e.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/blog/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/blog/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/blog/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/blog/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/blog/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/blog/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/blog/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/blog/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/blog/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/blog/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/blog/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/blog/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/blog/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/blog/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/blog/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/blog/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/blog/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/blog/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/blog/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/blog/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/blog/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/blog/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/blog/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/blog/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/blog/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/blog/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/blog/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/blog/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/blog/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/blog/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/blog/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/blog/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/blog/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/blog/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/blog/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/blog/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/blog/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/blog/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/blog/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/blog/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/blog/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/blog/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/blog/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/blog/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/blog/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/blog/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/blog/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/blog/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/blog/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/blog/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/blog/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/blog/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2e3440}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#636f88}.token.punctuation{color:#81a1c1}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#81a1c1}.token.number{color:#b48ead}.token.boolean{color:#81a1c1}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a3be8c}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#81a1c1}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#88c0d0}.token.keyword{color:#81a1c1}.token.important,.token.regex{color:#ebcb8b}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.command-line-prompt{border-right:1px solid #999;display:block;float:left;font-size:100%;letter-spacing:-1px;margin-right:1em;pointer-events:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.command-line-prompt>span:before{color:#999;content:" ";display:block;padding-right:.8em}.command-line-prompt>span[data-user]:before{content:"[" attr(data-user) "@" attr(data-host) "] $"}.command-line-prompt>span[data-user=root]:before{content:"[" attr(data-user) "@" attr(data-host) "] #"}.command-line-prompt>span[data-prompt]:before{content:attr(data-prompt)}a{text-decoration:none;color:#0d8d74}</style><meta name="generator" content="Gatsby 2.24.54"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml"/><link rel="icon" href="/blog/favicon-32x32.png?v=1a276c2d43894824bca1010b4ecbd948" type="image/png"/><link rel="manifest" href="/blog/manifest.webmanifest"/><meta name="theme-color" content="#0d8d74"/><link rel="apple-touch-icon" sizes="48x48" href="/blog/icons/icon-48x48.png?v=1a276c2d43894824bca1010b4ecbd948"/><link rel="apple-touch-icon" sizes="72x72" href="/blog/icons/icon-72x72.png?v=1a276c2d43894824bca1010b4ecbd948"/><link rel="apple-touch-icon" sizes="96x96" href="/blog/icons/icon-96x96.png?v=1a276c2d43894824bca1010b4ecbd948"/><link rel="apple-touch-icon" sizes="144x144" href="/blog/icons/icon-144x144.png?v=1a276c2d43894824bca1010b4ecbd948"/><link rel="apple-touch-icon" sizes="192x192" href="/blog/icons/icon-192x192.png?v=1a276c2d43894824bca1010b4ecbd948"/><link rel="apple-touch-icon" sizes="256x256" href="/blog/icons/icon-256x256.png?v=1a276c2d43894824bca1010b4ecbd948"/><link rel="apple-touch-icon" sizes="384x384" href="/blog/icons/icon-384x384.png?v=1a276c2d43894824bca1010b4ecbd948"/><link rel="apple-touch-icon" sizes="512x512" href="/blog/icons/icon-512x512.png?v=1a276c2d43894824bca1010b4ecbd948"/><title data-react-helmet="true">Ajaro Coding Day | Yeri&#x27;s Blog</title><meta data-react-helmet="true" name="description" content="npm vs yarn boleh pakai mana saja. tapi untuk menghindari conflict, pakai salah satu, misalnya install package  pakai , maka selanjutnya pakai  terus. begitu…"/><meta data-react-helmet="true" property="og:title" content="Ajaro Coding Day"/><meta data-react-helmet="true" property="og:description" content="npm vs yarn boleh pakai mana saja. tapi untuk menghindari conflict, pakai salah satu, misalnya install package  pakai , maka selanjutnya pakai  terus. begitu…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="_pirey"/><meta data-react-helmet="true" name="twitter:title" content="Ajaro Coding Day"/><meta data-react-helmet="true" name="twitter:description" content="npm vs yarn boleh pakai mana saja. tapi untuk menghindari conflict, pakai salah satu, misalnya install package  pakai , maka selanjutnya pakai  terus. begitu…"/><link as="script" rel="preload" href="/blog/webpack-runtime-d63009716bf721f849e1.js"/><link as="script" rel="preload" href="/blog/styles-fa79fef4936efa84b233.js"/><link as="script" rel="preload" href="/blog/framework-fd2b85530eec85104a39.js"/><link as="script" rel="preload" href="/blog/app-5cb00fa24525c69c4cd8.js"/><link as="script" rel="preload" href="/blog/commons-6248b7e46ec57bd08fee.js"/><link as="script" rel="preload" href="/blog/component---src-templates-blog-post-js-e406619546551510fa9d.js"/><link as="fetch" rel="preload" href="/blog/page-data/ajaro-coding-day/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/sq/d/1246554614.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;color:inherit" href="/blog/">Yeri&#x27;s Blog</a></h3></header><main><article><header><h1 style="margin-top:1.75rem;margin-bottom:0">Ajaro Coding Day</h1><p style="font-size:0.83255rem;line-height:1.75rem;display:block;margin-bottom:1.75rem">July 04, 2019</p></header><section><h2>npm vs yarn</h2>
<p>boleh pakai mana saja.</p>
<p>tapi untuk menghindari conflict, pakai salah satu, misalnya install package <code class="language-text">reactstrap</code> pakai <code class="language-text">npm</code>, maka selanjutnya pakai <code class="language-text">npm</code> terus. begitu juga sebaliknya, jika install pakai <code class="language-text">yarn</code>, maka selanjutnya pakai <code class="language-text">yarn</code> terus.</p>
<h2>create react app</h2>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm i -g create-react-app
create-react-app &lt;folder&gt;
cd &lt;folder&gt;
npm start</code></pre></div>
<h2>basic routing</h2>
<p>install router</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm i -S react-router-dom</code></pre></div>
<p>edit <code class="language-text">src/App.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> LoginPage <span class="token keyword">from</span> <span class="token string">'./auth/LoginPage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ProtectedPage <span class="token keyword">from</span> <span class="token string">'./ProtectedPage'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Router<span class="token operator">></span>
      <span class="token operator">&lt;</span>Switch<span class="token operator">></span>
        <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/login"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>LoginPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ProtectedPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code></pre></div>
<p>buat 2 file baru:</p>
<ul>
<li><code class="language-text">src/auth/LoginPage.js</code></li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">LoginPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>Login<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LoginPage<span class="token punctuation">;</span></code></pre></div>
<ul>
<li><code class="language-text">src/ProtectedPage.js</code></li>
</ul>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProtectedPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>Protected<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProtectedPage<span class="token punctuation">;</span></code></pre></div>
<h2>tampilan halaman login &#x26; bootstrap</h2>
<h3>install bootstrap</h3>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm i -S bootstrap reactstrap</code></pre></div>
<p>tambahkan di <code class="language-text">src/index.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'bootstrap/dist/css/bootstrap.min.css'</span><span class="token punctuation">;</span></code></pre></div>
<h3>form login</h3>
<p>edit <code class="language-text">src/auth/LoginPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  Button<span class="token punctuation">,</span>
  Container<span class="token punctuation">,</span>
  Row<span class="token punctuation">,</span>
  Col<span class="token punctuation">,</span>
  Form<span class="token punctuation">,</span>
  FormGroup<span class="token punctuation">,</span>
  Label<span class="token punctuation">,</span>
  Input
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">LoginPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>password<span class="token punctuation">,</span> setPassword<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleChangeEmail</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleChangePassword</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setPassword</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleLogin</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// TODO call api</span>

    history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Container<span class="token operator">></span>
      <span class="token operator">&lt;</span>Row<span class="token operator">></span>
        <span class="token operator">&lt;</span>Col
          sm<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
            size<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
            offset<span class="token operator">:</span> <span class="token number">3</span>
          <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">></span>
          <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mt-5 mb-3"</span><span class="token operator">></span>Login<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
          <span class="token operator">&lt;</span>Form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleLogin<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
              <span class="token operator">&lt;</span>Label<span class="token operator">></span>Email<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
              <span class="token operator">&lt;</span>Input
                value<span class="token operator">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span>
                onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChangeEmail<span class="token punctuation">}</span>
                type<span class="token operator">=</span><span class="token string">"email"</span>
                required
              <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
            <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
              <span class="token operator">&lt;</span>Label<span class="token operator">></span>Password<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
              <span class="token operator">&lt;</span>Input
                value<span class="token operator">=</span><span class="token punctuation">{</span>password<span class="token punctuation">}</span>
                onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChangePassword<span class="token punctuation">}</span>
                type<span class="token operator">=</span><span class="token string">"password"</span>
                required
              <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
            <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Row<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Container<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LoginPage<span class="token punctuation">;</span></code></pre></div>
<h2>autentikasi / cek token</h2>
<p>edit <code class="language-text">src/ProtectedPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./utils'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProtectedPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>Protected<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProtectedPage<span class="token punctuation">;</span></code></pre></div>
<p>buat file baru untuk mengelola token <code class="language-text">src/utils.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">clearToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">saveToken</span><span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h2>proses login dengan api</h2>
<h3>config</h3>
<p>buat file config <code class="language-text">.env</code></p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">touch .env</code></pre></div>
<p>tambah config</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">REACT_APP_BASE_API_URL=http://localhost:8000/api/v1</code></pre></div>
<p>restart server</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text"># Control+C

npm start</code></pre></div>
<h3>install axios</h3>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm i -S axios</code></pre></div>
<h3>api login</h3>
<p>buat file baru <code class="language-text">src/auth/api.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseUrl <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_BASE_API_URL</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> payload<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/login</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      <span class="token string">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>memanggil api login</h3>
<p>edit <code class="language-text">src/auth/LoginPage.js</code> tambahkan proses pemanggilan api saat submit form</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  Alert<span class="token punctuation">,</span>
  Button<span class="token punctuation">,</span>
  Container<span class="token punctuation">,</span>
  Row<span class="token punctuation">,</span>
  Col<span class="token punctuation">,</span>
  Form<span class="token punctuation">,</span>
  FormGroup<span class="token punctuation">,</span>
  Label<span class="token punctuation">,</span>
  Input
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> login <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> saveToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">LoginPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>password<span class="token punctuation">,</span> setPassword<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleChangeEmail</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleChangePassword</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setPassword</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleLogin</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span> email<span class="token punctuation">,</span> password <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">login</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> token <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>api_token<span class="token punctuation">;</span>
        <span class="token function">saveToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> message <span class="token operator">=</span> error<span class="token punctuation">.</span>response
          <span class="token operator">?</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message
          <span class="token operator">:</span> <span class="token string">'Login gagal'</span><span class="token punctuation">;</span>

        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"danger"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token punctuation">{</span>message<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Container<span class="token operator">></span>
      <span class="token operator">&lt;</span>Row<span class="token operator">></span>
        <span class="token operator">&lt;</span>Col
          sm<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
            size<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
            offset<span class="token operator">:</span> <span class="token number">3</span>
          <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">></span>
          <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mt-5 mb-3"</span><span class="token operator">></span>Login<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
          <span class="token operator">&lt;</span>Form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleLogin<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
              <span class="token operator">&lt;</span>Label<span class="token operator">></span>Email<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
              <span class="token operator">&lt;</span>Input
                value<span class="token operator">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span>
                onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChangeEmail<span class="token punctuation">}</span>
                type<span class="token operator">=</span><span class="token string">"email"</span>
                required
              <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
            <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
              <span class="token operator">&lt;</span>Label<span class="token operator">></span>Password<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
              <span class="token operator">&lt;</span>Input
                value<span class="token operator">=</span><span class="token punctuation">{</span>password<span class="token punctuation">}</span>
                onChange<span class="token operator">=</span><span class="token punctuation">{</span>handleChangePassword<span class="token punctuation">}</span>
                type<span class="token operator">=</span><span class="token string">"password"</span>
                required
              <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
            <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Submit<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Row<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Container<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LoginPage<span class="token punctuation">;</span></code></pre></div>
<p>install <code class="language-text">toasted-notes</code> untuk menampilkan pesan.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm i -S toasted-notes</code></pre></div>
<p>tambahkan <code class="language-text">toasted-notes</code> css di <code class="language-text">src/index.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'toasted-notes/src/styles.css'</span><span class="token punctuation">;</span></code></pre></div>
<h2>Layout</h2>
<p>buat file baru <code class="language-text">src/Layout.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> clearToken<span class="token punctuation">,</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Container<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token punctuation">,</span> ListGroup<span class="token punctuation">,</span> ListGroupItem <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> logout <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./auth/api'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Layout</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> children<span class="token punctuation">,</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleLogout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">clearToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">logout</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Container fluid<span class="token operator">></span>
      <span class="token operator">&lt;</span>Row className<span class="token operator">=</span><span class="token string">"mt-3"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Col md<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"mb-3"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>ListGroup<span class="token operator">></span>
            <span class="token operator">&lt;</span>ListGroupItem tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token string">"/"</span> action<span class="token operator">></span>
              Dashboard
            <span class="token operator">&lt;</span><span class="token operator">/</span>ListGroupItem<span class="token operator">></span>
            <span class="token operator">&lt;</span>ListGroupItem tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token string">"/sales"</span> action<span class="token operator">></span>
              Penjualan
            <span class="token operator">&lt;</span><span class="token operator">/</span>ListGroupItem<span class="token operator">></span>
            <span class="token operator">&lt;</span>ListGroupItem tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token string">"/purchases"</span> action<span class="token operator">></span>
              Pembelian
            <span class="token operator">&lt;</span><span class="token operator">/</span>ListGroupItem<span class="token operator">></span>
            <span class="token operator">&lt;</span>ListGroupItem tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token string">"/products"</span> action<span class="token operator">></span>
              Produk
            <span class="token operator">&lt;</span><span class="token operator">/</span>ListGroupItem<span class="token operator">></span>
            <span class="token operator">&lt;</span>ListGroupItem tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token string">"/categories"</span> action<span class="token operator">></span>
              Kategori
            <span class="token operator">&lt;</span><span class="token operator">/</span>ListGroupItem<span class="token operator">></span>
            <span class="token operator">&lt;</span>ListGroupItem tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token string">"/suppliers"</span> action<span class="token operator">></span>
              Suplier
            <span class="token operator">&lt;</span><span class="token operator">/</span>ListGroupItem<span class="token operator">></span>
            <span class="token operator">&lt;</span>ListGroupItem
              tag<span class="token operator">=</span><span class="token string">"a"</span>
              href<span class="token operator">=</span><span class="token string">"#"</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleLogout<span class="token punctuation">}</span>
              className<span class="token operator">=</span><span class="token string">"text-danger"</span>
              action
            <span class="token operator">></span>
              Logout
            <span class="token operator">&lt;</span><span class="token operator">/</span>ListGroupItem<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>ListGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">></span>

        <span class="token operator">&lt;</span>Col
          style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
            minHeight<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
            paddingBottom<span class="token operator">:</span> <span class="token number">100</span>
          <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">></span>
          <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Row<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Container<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Layout<span class="token punctuation">;</span></code></pre></div>
<p>edit <code class="language-text">src/ProtectedPage.js</code> untuk menggunakan layout</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">'./Layout'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProtectedPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Layout <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>h2<span class="token operator">></span>Content<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Layout<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProtectedPage<span class="token punctuation">;</span></code></pre></div>
<p>buat function baru di <code class="language-text">src/auth/api.js</code> untuk logout</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token parameter">token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/logout</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<h2>nested route di dalam ProtectedPage</h2>
<p>edit <code class="language-text">src/ProtectedPage.js</code> untuk setup route</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">'./Layout'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Switch<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Redirect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> DashboardPage <span class="token keyword">from</span> <span class="token string">'./dashboard/DashboardPage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SuppliersPage <span class="token keyword">from</span> <span class="token string">'./supplier/SuppliersPage'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProtectedPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Layout <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Switch<span class="token operator">></span>
        <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/suppliers"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>SuppliersPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">"/"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>DashboardPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"/"</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Layout<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProtectedPage<span class="token punctuation">;</span></code></pre></div>
<p>buat file baru <code class="language-text">src/supplier/SuppliersPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SuppliersPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Supplier<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SuppliersPage<span class="token punctuation">;</span></code></pre></div>
<p>edit <code class="language-text">src/dashboard/DashboardPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">DashboardPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Dashboard<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> DashboardPage<span class="token punctuation">;</span></code></pre></div>
<h2>supplier</h2>
<h3>list supplier</h3>
<p>buat file baru <code class="language-text">src/supplier/api.js</code> untuk get data</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseUrl <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_BASE_API_URL</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getSuppliers</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> page <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/suppliers?page=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>edit file <code class="language-text">src/supplier/SuppliersPage.js</code> untuk menampilkan data</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PaginationComponent <span class="token keyword">from</span> <span class="token string">'react-reactstrap-pagination'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SupplierList <span class="token keyword">from</span> <span class="token string">'./components/SupplierList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getSuppliers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SuppliersPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> paginationState <span class="token operator">=</span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    perPage<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>paginationState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchSuppliers</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getSuppliers</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> page<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> current_page<span class="token punctuation">,</span> total<span class="token punctuation">,</span> per_page <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setPagination</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          data<span class="token punctuation">,</span>
          total<span class="token punctuation">,</span>
          page<span class="token operator">:</span> current_page<span class="token punctuation">,</span>
          perPage<span class="token operator">:</span> per_page
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> message <span class="token operator">=</span> error<span class="token punctuation">.</span>response
          <span class="token operator">?</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message
          <span class="token operator">:</span> <span class="token string">'Terjadi kesalahan, silahkan coba lagi'</span><span class="token punctuation">;</span>

        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"danger"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token punctuation">{</span>message<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchSuppliers</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchSuppliers</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">gotoItem</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>history<span class="token punctuation">}</span> <span class="token operator">=</span> props
    history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/suppliers/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Supplier<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>

      <span class="token operator">&lt;</span>Button tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token string">"/suppliers/create"</span> color<span class="token operator">=</span><span class="token string">"primary"</span> className<span class="token operator">=</span><span class="token string">"mb-3"</span><span class="token operator">></span>
        Tambah
      <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>

      <span class="token operator">&lt;</span>SupplierList data<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>data<span class="token punctuation">}</span> onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>gotoItem<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>

      <span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total <span class="token operator">></span> pagination<span class="token punctuation">.</span>perPage <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>PaginationComponent
          totalItems<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total<span class="token punctuation">}</span>
          pageSize<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>perPage<span class="token punctuation">}</span>
          activePage<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>page<span class="token punctuation">}</span>
          onSelect<span class="token operator">=</span><span class="token punctuation">{</span>changePage<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SuppliersPage<span class="token punctuation">;</span></code></pre></div>
<p>buat file baru <code class="language-text">src/supplier/components/SupplierList.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Table <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SupplierItem <span class="token keyword">from</span> <span class="token string">'./SupplierItem'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SupplierList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> onItemSelected <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"table-responsive"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Table hover className<span class="token operator">=</span><span class="token string">"mb-3"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>thead<span class="token operator">></span>
          <span class="token operator">&lt;</span>tr<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token constant">ID</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Email<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Alamat<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Telepon<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span>
        <span class="token operator">&lt;</span>tbody<span class="token operator">></span>
          <span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">supplier</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>SupplierItem
              key<span class="token operator">=</span><span class="token punctuation">{</span>supplier<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
              item<span class="token operator">=</span><span class="token punctuation">{</span>supplier<span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span>onItemSelected<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Table<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SupplierList<span class="token punctuation">;</span></code></pre></div>
<p>buat file baru <code class="language-text">src/supplier/components/SupplierItem.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SupplierItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> item<span class="token punctuation">,</span> onClick <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>tr onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">onClick</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>email<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>address<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>phone<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SupplierItem<span class="token punctuation">;</span></code></pre></div>
<p>install pagination component <code class="language-text">npm i -S react-reactstrap-pagination</code></p>
<h3>tambah supplier</h3>
<p>buat function baru di <code class="language-text">src/supplier/api.js</code> untuk menambah data</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">postSupplier</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> phone<span class="token punctuation">,</span> address <span class="token punctuation">}</span> <span class="token operator">=</span> payload<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/suppliers</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      email<span class="token punctuation">,</span>
      phone<span class="token punctuation">,</span>
      address
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>buat file baru <code class="language-text">src/supplier/SupplierCreatePage.js</code> untuk form tambah data</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Form<span class="token punctuation">,</span> FormGroup<span class="token punctuation">,</span> Label<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> postSupplier <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SupplierCreatePage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>phone<span class="token punctuation">,</span> setPhone<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>address<span class="token punctuation">,</span> setAddress<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      email<span class="token punctuation">,</span>
      phone<span class="token punctuation">,</span>
      address
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">postSupplier</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"success"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil tambah data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/suppliers'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Tambah Supplier<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>Form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Email<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"email"</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Telepon<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>phone<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setPhone</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Alamat<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>address<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setAddress</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"textarea"</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Simpan<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SupplierCreatePage<span class="token punctuation">;</span></code></pre></div>
<p>untuk handle error, tambah function di <code class="language-text">src/utils.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token comment">// https://github.com/axios/axios#handling-errors</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">handleError</span><span class="token punctuation">(</span><span class="token parameter">axiosError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>axiosError<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> message <span class="token operator">=</span> axiosError<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">;</span>

    toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"danger"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token punctuation">{</span>message<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// validation error</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>axiosError<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">422</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> validationErrors <span class="token operator">=</span> axiosError<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>errors<span class="token punctuation">;</span>
      Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>validationErrors<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"danger"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token punctuation">{</span>validationErrors<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"danger"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
        Terjadi kesalahan<span class="token punctuation">,</span> silahkan coba lagi
      <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>tambahkan route di dalam <code class="language-text">src/ProtectedPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> SupplierCreatePage <span class="token keyword">from</span> <span class="token string">'./supplier/SupplierCreatePage'</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/suppliers/create"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>SupplierCreatePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre></div>
<h3>update &#x26; delete supplier</h3>
<p>tambah function di <code class="language-text">src/supplier/api.js</code> untuk ambil detail &#x26; update</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getSupplier</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> supplierId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/suppliers/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>supplierId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">putSupplier</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> supplierId<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> email<span class="token punctuation">,</span> phone<span class="token punctuation">,</span> address <span class="token punctuation">}</span> <span class="token operator">=</span> payload<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'PUT'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/suppliers/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>supplierId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      email<span class="token punctuation">,</span>
      phone<span class="token punctuation">,</span>
      address
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deleteSupplier</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> supplierId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'DELETE'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/suppliers/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>supplierId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>tambah file baru untuk halaman edit <code class="language-text">src/supplier/SupplierEditPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Form<span class="token punctuation">,</span> FormGroup<span class="token punctuation">,</span> Label<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getSupplier<span class="token punctuation">,</span> deleteSupplier<span class="token punctuation">,</span> putSupplier <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SupplierEditPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> match<span class="token punctuation">,</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> supplierId <span class="token punctuation">}</span> <span class="token operator">=</span> match<span class="token punctuation">.</span>params<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>email<span class="token punctuation">,</span> setEmail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>phone<span class="token punctuation">,</span> setPhone<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>address<span class="token punctuation">,</span> setAddress<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getSupplier</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> supplierId<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> data <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setName</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setEmail</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setPhone</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setAddress</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>supplierId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleDelete</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>loading<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">deleteSupplier</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> supplierId<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"info"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil hapus data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/suppliers'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>loading<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      email<span class="token punctuation">,</span>
      phone<span class="token punctuation">,</span>
      address
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">putSupplier</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> supplierId<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"success"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil update data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/suppliers'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Supplier Detail<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>Form disabled<span class="token operator">=</span><span class="token punctuation">{</span>loading<span class="token punctuation">}</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Email<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>email<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setEmail</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"email"</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Telepon<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>phone<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setPhone</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Alamat<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>address<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setAddress</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"textarea"</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Simpan<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button
          onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleDelete<span class="token punctuation">}</span>
          color<span class="token operator">=</span><span class="token string">"link"</span>
          type<span class="token operator">=</span><span class="token string">"button"</span>
          className<span class="token operator">=</span><span class="token string">"float-right text-danger"</span>
        <span class="token operator">></span>
          Hapus
        <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SupplierEditPage<span class="token punctuation">;</span></code></pre></div>
<p>tambahkan route baru di <code class="language-text">src/ProtectedPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> SupplierEditPage <span class="token keyword">from</span> <span class="token string">'./supplier/SupplierEditPage'</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/suppliers/create"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>SupplierCreatePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/suppliers/:supplierId"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>SupplierEditPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span> <span class="token comment">// &lt;---- tambahkan dibawah /create</span></code></pre></div>
<h3>urutan route</h3>
<p>pastikan menambahkan route untuk edit dibawah route untuk create.
karena route edit menggunakan syntax wildcard, jadi kalau route edit ditempatkan diatas route create maka saat kita mengakses url <code class="language-text">/suppliers/create</code> akan tertangkap di route edit, dan halaman yang tampil malah halaman edit.</p>
<h2>kategori produk</h2>
<h3>api</h3>
<p>buat file baru untuk memanggil api <code class="language-text">src/category/api.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseUrl <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_BASE_API_URL</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getCategories</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> page <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/categories?page=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">postCategory</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> payload<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/categories</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      name
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getCategory</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> categoryId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/categories/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>categoryId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">putCategory</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> categoryId<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> payload<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'PUT'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/categories/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>categoryId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      name
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deleteCategory</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> categoryId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'DELETE'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/categories/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>categoryId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>list kategori</h3>
<p>buat file baru untuk menampilkan data <code class="language-text">src/category/CategoriesPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PaginationComponent <span class="token keyword">from</span> <span class="token string">'react-reactstrap-pagination'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CategoryList <span class="token keyword">from</span> <span class="token string">'./components/CategoryList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getCategories <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">CategoriesPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> paginationState <span class="token operator">=</span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    perPage<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>paginationState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchCategories</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getCategories</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> page<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> current_page<span class="token punctuation">,</span> total<span class="token punctuation">,</span> per_page <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setPagination</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          data<span class="token punctuation">,</span>
          total<span class="token punctuation">,</span>
          page<span class="token operator">:</span> current_page<span class="token punctuation">,</span>
          perPage<span class="token operator">:</span> per_page
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> message <span class="token operator">=</span> error<span class="token punctuation">.</span>response
          <span class="token operator">?</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message
          <span class="token operator">:</span> <span class="token string">'Terjadi kesalahan, silahkan coba lagi'</span><span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"danger"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token punctuation">{</span>message<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchCategories</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchCategories</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">gotoItem</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
    history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/categories/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Kategori Produk<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>

      <span class="token operator">&lt;</span>Button
        tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span>
        to<span class="token operator">=</span><span class="token string">"/categories/create"</span>
        color<span class="token operator">=</span><span class="token string">"primary"</span>
        className<span class="token operator">=</span><span class="token string">"mb-3"</span>
      <span class="token operator">></span>
        Tambah
      <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>

      <span class="token operator">&lt;</span>CategoryList data<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>data<span class="token punctuation">}</span> onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>gotoItem<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>

      <span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total <span class="token operator">></span> pagination<span class="token punctuation">.</span>perPage <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>PaginationComponent
          totalItems<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total<span class="token punctuation">}</span>
          pageSize<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>perPage<span class="token punctuation">}</span>
          activePage<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>page<span class="token punctuation">}</span>
          onSelect<span class="token operator">=</span><span class="token punctuation">{</span>changePage<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> CategoriesPage<span class="token punctuation">;</span></code></pre></div>
<p>buat file <code class="language-text">src/category/components/CategoryList.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Table <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CategoryItem <span class="token keyword">from</span> <span class="token string">'./CategoryItem'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">CategoryList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> onItemSelected <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"table-responsive"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Table hover className<span class="token operator">=</span><span class="token string">"mb-3"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>thead<span class="token operator">></span>
          <span class="token operator">&lt;</span>tr<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token constant">ID</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span>
        <span class="token operator">&lt;</span>tbody<span class="token operator">></span>
          <span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">category</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>CategoryItem
              key<span class="token operator">=</span><span class="token punctuation">{</span>category<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
              item<span class="token operator">=</span><span class="token punctuation">{</span>category<span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span>onItemSelected<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Table<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> CategoryList<span class="token punctuation">;</span></code></pre></div>
<p>buat file <code class="language-text">src/category/components/CategoryItem.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">CategoryItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> item<span class="token punctuation">,</span> onClick <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>tr onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">onClick</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> CategoryItem<span class="token punctuation">;</span></code></pre></div>
<h3>tambah kategori</h3>
<p>buat file <code class="language-text">src/category/CategoryCreatePage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Form<span class="token punctuation">,</span> FormGroup<span class="token punctuation">,</span> Label<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> postCategory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">CategoryCreatePage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
      name
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">postCategory</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"success"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil tambah data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/categories'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Tambah Kategori Produk<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>Form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Simpan<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> CategoryCreatePage<span class="token punctuation">;</span></code></pre></div>
<h3>update &#x26; delete kategori</h3>
<p>buat file <code class="language-text">src/category/CategoryEditPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Form<span class="token punctuation">,</span> FormGroup<span class="token punctuation">,</span> Label<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getCategory<span class="token punctuation">,</span> deleteCategory<span class="token punctuation">,</span> putCategory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">CategoryEditPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> match<span class="token punctuation">,</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> categoryId <span class="token punctuation">}</span> <span class="token operator">=</span> match<span class="token punctuation">.</span>params<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getCategory</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> categoryId<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> data <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setName</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>categoryId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleDelete</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>loading<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">deleteCategory</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> categoryId<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"info"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil hapus data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/categories'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>loading<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">putCategory</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> categoryId<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"success"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil update data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/categories'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Detail Kategori Produk<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>Form disabled<span class="token operator">=</span><span class="token punctuation">{</span>loading<span class="token punctuation">}</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Simpan<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button
          onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleDelete<span class="token punctuation">}</span>
          color<span class="token operator">=</span><span class="token string">"link"</span>
          type<span class="token operator">=</span><span class="token string">"button"</span>
          className<span class="token operator">=</span><span class="token string">"float-right text-danger"</span>
        <span class="token operator">></span>
          Hapus
        <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> CategoryEditPage<span class="token punctuation">;</span></code></pre></div>
<h3>routing</h3>
<p>tambahkan routing di <code class="language-text">src/ProtectedPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> CategoriesPage <span class="token keyword">from</span> <span class="token string">'./category/CategoriesPage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CategoryCreatePage <span class="token keyword">from</span> <span class="token string">'./category/CategoryCreatePage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CategoryEditPage <span class="token keyword">from</span> <span class="token string">'./category/CategoryEditPage'</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/categories/create"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>CategoryCreatePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/categories/:categoryId"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>CategoryEditPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/categories"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>CategoriesPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre></div>
<h2>produk</h2>
<h3>api</h3>
<p>buat file baru untuk menghandle api <code class="language-text">src/product/api.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseUrl <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_BASE_API_URL</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getProducts</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> page <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/products?page=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">postProduct</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">,</span>
    desc<span class="token punctuation">,</span>
    category_id<span class="token punctuation">,</span>
    price_purchase<span class="token punctuation">,</span>
    price_sale<span class="token punctuation">,</span>
    stock
  <span class="token punctuation">}</span> <span class="token operator">=</span> payload<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/products</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      desc<span class="token punctuation">,</span>
      category_id<span class="token punctuation">,</span>
      price_purchase<span class="token punctuation">,</span>
      price_sale<span class="token punctuation">,</span>
      stock
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getProduct</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> productId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/products/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>productId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">putProduct</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> productId<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">,</span>
    desc<span class="token punctuation">,</span>
    category_id<span class="token punctuation">,</span>
    price_purchase<span class="token punctuation">,</span>
    price_sale<span class="token punctuation">,</span>
    stock
  <span class="token punctuation">}</span> <span class="token operator">=</span> payload<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'PUT'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/products/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>productId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      desc<span class="token punctuation">,</span>
      category_id<span class="token punctuation">,</span>
      price_purchase<span class="token punctuation">,</span>
      price_sale<span class="token punctuation">,</span>
      stock
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deleteProduct</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> productId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'DELETE'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/products/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>productId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>list produk</h3>
<p>buat file untuk list produk <code class="language-text">src/product/ProductsPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PaginationComponent <span class="token keyword">from</span> <span class="token string">'react-reactstrap-pagination'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ProductList <span class="token keyword">from</span> <span class="token string">'./components/ProductList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getProducts <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProductsPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> paginationState <span class="token operator">=</span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    perPage<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>paginationState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchProducts</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getProducts</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> page<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> current_page<span class="token punctuation">,</span> total<span class="token punctuation">,</span> per_page <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setPagination</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          data<span class="token punctuation">,</span>
          total<span class="token punctuation">,</span>
          page<span class="token operator">:</span> current_page<span class="token punctuation">,</span>
          perPage<span class="token operator">:</span> per_page
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> message <span class="token operator">=</span> error<span class="token punctuation">.</span>response
          <span class="token operator">?</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message
          <span class="token operator">:</span> <span class="token string">'Terjadi kesalahan, silahkan coba lagi'</span><span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"danger"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token punctuation">{</span>message<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchProducts</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchProducts</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">gotoItem</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
    history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/products/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Produk<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>

      <span class="token operator">&lt;</span>Button
        tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span>
        to<span class="token operator">=</span><span class="token string">"/products/create"</span>
        color<span class="token operator">=</span><span class="token string">"primary"</span>
        className<span class="token operator">=</span><span class="token string">"mb-3"</span>
      <span class="token operator">></span>
        Tambah
      <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>

      <span class="token operator">&lt;</span>ProductList data<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>data<span class="token punctuation">}</span> onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>gotoItem<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>

      <span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total <span class="token operator">></span> pagination<span class="token punctuation">.</span>perPage <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>PaginationComponent
          totalItems<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total<span class="token punctuation">}</span>
          pageSize<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>perPage<span class="token punctuation">}</span>
          activePage<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>page<span class="token punctuation">}</span>
          onSelect<span class="token operator">=</span><span class="token punctuation">{</span>changePage<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProductsPage<span class="token punctuation">;</span></code></pre></div>
<p>buat file baru <code class="language-text">src/product/components/ProductList.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Table <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ProductItem <span class="token keyword">from</span> <span class="token string">'./ProductItem'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProductList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> onItemSelected <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"table-responsive"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Table hover className<span class="token operator">=</span><span class="token string">"mb-3"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>thead<span class="token operator">></span>
          <span class="token operator">&lt;</span>tr<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token constant">ID</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Harga Beli<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Harga Jual<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Kategori<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Stok<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Deskripsi<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span>
        <span class="token operator">&lt;</span>tbody<span class="token operator">></span>
          <span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">product</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>ProductItem
              key<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
              item<span class="token operator">=</span><span class="token punctuation">{</span>product<span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span>onItemSelected<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Table<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProductList<span class="token punctuation">;</span></code></pre></div>
<p>buat file baru <code class="language-text">src/product/components/ProductItem.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProductItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> item<span class="token punctuation">,</span> onClick <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>tr onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">onClick</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>price_purchase<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>price_sale<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>category<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>stock<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>desc<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProductItem<span class="token punctuation">;</span></code></pre></div>
<h3>tambah produk</h3>
<p>buat file baru untuk form tambah <code class="language-text">src/product/ProductCreatePage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  Alert<span class="token punctuation">,</span>
  Button<span class="token punctuation">,</span>
  Form<span class="token punctuation">,</span>
  FormGroup<span class="token punctuation">,</span>
  Label<span class="token punctuation">,</span>
  Input<span class="token punctuation">,</span>
  InputGroup<span class="token punctuation">,</span>
  InputGroupText<span class="token punctuation">,</span>
  InputGroupAddon
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CategorySelectionModal <span class="token keyword">from</span> <span class="token string">'./components/CategorySelectionModal'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> postProduct <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProductCreatePage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>desc<span class="token punctuation">,</span> setDesc<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>price_purchase<span class="token punctuation">,</span> setPricePurchase<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>price_sale<span class="token punctuation">,</span> setPriceSale<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>stock<span class="token punctuation">,</span> setStock<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>selectedCategory<span class="token punctuation">,</span> setSelectedCategory<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>isModalOpen<span class="token punctuation">,</span> setModalOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSelectCategory</span> <span class="token operator">=</span> <span class="token parameter">category</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setSelectedCategory</span><span class="token punctuation">(</span>category<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      desc<span class="token punctuation">,</span>
      category_id<span class="token operator">:</span> selectedCategory<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      price_purchase<span class="token punctuation">,</span>
      price_sale<span class="token punctuation">,</span>
      stock
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">postProduct</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"success"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil tambah data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/products'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Tambah Produk<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>Form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Deskripsi<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>desc<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setDesc</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"textarea"</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Harga Beli<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>price_purchase<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setPricePurchase</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"number"</span>
            min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Harga Jual<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>price_sale<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setPriceSale</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"number"</span>
            min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Stok<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>stock<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setStock</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"number"</span>
            min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Kategori<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>InputGroup<span class="token operator">></span>
            <span class="token operator">&lt;</span>Input
              value<span class="token operator">=</span><span class="token punctuation">{</span>selectedCategory <span class="token operator">?</span> selectedCategory<span class="token punctuation">.</span>name <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
              onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setModalOpen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
              placeholder<span class="token operator">=</span><span class="token string">"Pilih Kategori"</span>
              required
            <span class="token operator">/</span><span class="token operator">></span>
            <span class="token punctuation">{</span>selectedCategory <span class="token operator">?</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>InputGroupAddon
                tag<span class="token operator">=</span><span class="token string">"a"</span>
                href<span class="token operator">=</span><span class="token string">"#"</span>
                className<span class="token operator">=</span><span class="token string">"text-decoration-none"</span>
                onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setSelectedCategory</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                addonType<span class="token operator">=</span><span class="token string">"append"</span>
              <span class="token operator">></span>
                <span class="token operator">&lt;</span>InputGroupText<span class="token operator">></span>Hapus<span class="token operator">&lt;</span><span class="token operator">/</span>InputGroupText<span class="token operator">></span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>InputGroupAddon<span class="token operator">></span>
            <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>InputGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Simpan<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
      <span class="token operator">&lt;</span>CategorySelectionModal
        isOpen<span class="token operator">=</span><span class="token punctuation">{</span>isModalOpen<span class="token punctuation">}</span>
        toggle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>handleSelectCategory<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProductCreatePage<span class="token punctuation">;</span></code></pre></div>
<h4>pilihan kategori</h4>
<p>buat file untuk pilihan kategori untuk produk <code class="language-text">src/product/components/CategorySelectionModal.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Modal<span class="token punctuation">,</span> ModalHeader<span class="token punctuation">,</span> ModalBody<span class="token punctuation">,</span> ModalFooter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CategoryList <span class="token keyword">from</span> <span class="token string">'../../category/components/CategoryList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PaginationComponent <span class="token keyword">from</span> <span class="token string">'react-reactstrap-pagination'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getCategories <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../category/api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">CategorySelectionModal</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> isOpen<span class="token punctuation">,</span> toggle<span class="token punctuation">,</span> onItemSelected <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

  <span class="token keyword">const</span> paginationState <span class="token operator">=</span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    perPage<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>paginationState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchCategories</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getCategories</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> page<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> current_page<span class="token punctuation">,</span> total<span class="token punctuation">,</span> per_page <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setPagination</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          data<span class="token punctuation">,</span>
          total<span class="token punctuation">,</span>
          page<span class="token operator">:</span> current_page<span class="token punctuation">,</span>
          perPage<span class="token operator">:</span> per_page
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchCategories</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchCategories</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Modal isOpen<span class="token operator">=</span><span class="token punctuation">{</span>isOpen<span class="token punctuation">}</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>toggle<span class="token punctuation">}</span> scrollable<span class="token operator">></span>
      <span class="token operator">&lt;</span>ModalHeader toggle<span class="token operator">=</span><span class="token punctuation">{</span>toggle<span class="token punctuation">}</span><span class="token operator">></span>Pilih Kategori<span class="token operator">&lt;</span><span class="token operator">/</span>ModalHeader<span class="token operator">></span>
      <span class="token operator">&lt;</span>ModalBody<span class="token operator">></span>
        <span class="token operator">&lt;</span>CategoryList data<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>data<span class="token punctuation">}</span> onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>onItemSelected<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ModalBody<span class="token operator">></span>
      <span class="token operator">&lt;</span>ModalFooter<span class="token operator">></span>
        <span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total <span class="token operator">></span> pagination<span class="token punctuation">.</span>perPage <span class="token operator">?</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>PaginationComponent
            totalItems<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total<span class="token punctuation">}</span>
            pageSize<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>perPage<span class="token punctuation">}</span>
            activePage<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>page<span class="token punctuation">}</span>
            onSelect<span class="token operator">=</span><span class="token punctuation">{</span>changePage<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ModalFooter<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Modal<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> CategorySelectionModal<span class="token punctuation">;</span></code></pre></div>
<h3>update produk &#x26; delete produk</h3>
<p>buat file untuk detail &#x26; edit &#x26; hapus data <code class="language-text">src/product/ProductEditPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  Alert<span class="token punctuation">,</span>
  Button<span class="token punctuation">,</span>
  Form<span class="token punctuation">,</span>
  FormGroup<span class="token punctuation">,</span>
  Label<span class="token punctuation">,</span>
  Input<span class="token punctuation">,</span>
  InputGroup<span class="token punctuation">,</span>
  InputGroupText<span class="token punctuation">,</span>
  InputGroupAddon
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CategorySelectionModal <span class="token keyword">from</span> <span class="token string">'./components/CategorySelectionModal'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getProduct<span class="token punctuation">,</span> deleteProduct<span class="token punctuation">,</span> putProduct <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProductEditPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> match<span class="token punctuation">,</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> productId <span class="token punctuation">}</span> <span class="token operator">=</span> match<span class="token punctuation">.</span>params<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>desc<span class="token punctuation">,</span> setDesc<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>price_purchase<span class="token punctuation">,</span> setPricePurchase<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>price_sale<span class="token punctuation">,</span> setPriceSale<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>stock<span class="token punctuation">,</span> setStock<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>selectedCategory<span class="token punctuation">,</span> setSelectedCategory<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>isModalOpen<span class="token punctuation">,</span> setModalOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSelectCategory</span> <span class="token operator">=</span> <span class="token parameter">category</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setSelectedCategory</span><span class="token punctuation">(</span>category<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getProduct</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> productId<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> data <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setName</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setDesc</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>desc<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setPricePurchase</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>price_purchase<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setPriceSale</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>price_sale<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setStock</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>stock<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setSelectedCategory</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>category<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>productId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleDelete</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>loading<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">deleteProduct</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> productId<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"info"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil hapus data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/products'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>loading<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">,</span>
      desc<span class="token punctuation">,</span>
      price_purchase<span class="token punctuation">,</span>
      price_sale<span class="token punctuation">,</span>
      stock<span class="token punctuation">,</span>
      category_id<span class="token operator">:</span> selectedCategory<span class="token punctuation">.</span>id
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">putProduct</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> productId<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"success"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil update data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/products'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Detail Produk<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>Form disabled<span class="token operator">=</span><span class="token punctuation">{</span>loading<span class="token punctuation">}</span> onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setName</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Deskripsi<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>desc<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setDesc</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"textarea"</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Harga Beli<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>price_purchase<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setPricePurchase</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"number"</span>
            min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Harga Jual<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>price_sale<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setPriceSale</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"number"</span>
            min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>
            required
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Stok<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>stock<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setStock</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"number"</span>
            min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Kategori<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>InputGroup<span class="token operator">></span>
            <span class="token operator">&lt;</span>Input
              value<span class="token operator">=</span><span class="token punctuation">{</span>selectedCategory <span class="token operator">?</span> selectedCategory<span class="token punctuation">.</span>name <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
              onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setModalOpen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
              placeholder<span class="token operator">=</span><span class="token string">"Pilih Kategori"</span>
              required
            <span class="token operator">/</span><span class="token operator">></span>
            <span class="token punctuation">{</span>selectedCategory <span class="token operator">?</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>InputGroupAddon
                tag<span class="token operator">=</span><span class="token string">"a"</span>
                href<span class="token operator">=</span><span class="token string">"#"</span>
                className<span class="token operator">=</span><span class="token string">"text-decoration-none"</span>
                onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setSelectedCategory</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                addonType<span class="token operator">=</span><span class="token string">"append"</span>
              <span class="token operator">></span>
                <span class="token operator">&lt;</span>InputGroupText<span class="token operator">></span>Hapus<span class="token operator">&lt;</span><span class="token operator">/</span>InputGroupText<span class="token operator">></span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>InputGroupAddon<span class="token operator">></span>
            <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>InputGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>Simpan<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button
          onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleDelete<span class="token punctuation">}</span>
          color<span class="token operator">=</span><span class="token string">"link"</span>
          type<span class="token operator">=</span><span class="token string">"button"</span>
          className<span class="token operator">=</span><span class="token string">"float-right text-danger"</span>
        <span class="token operator">></span>
          Hapus
        <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
      <span class="token operator">&lt;</span>CategorySelectionModal
        isOpen<span class="token operator">=</span><span class="token punctuation">{</span>isModalOpen<span class="token punctuation">}</span>
        toggle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>handleSelectCategory<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProductEditPage<span class="token punctuation">;</span></code></pre></div>
<h3>routing</h3>
<p>tambahkan routing di <code class="language-text">src/ProtectedPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> ProductsPage <span class="token keyword">from</span> <span class="token string">'./product/ProductsPage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ProductCreatePage <span class="token keyword">from</span> <span class="token string">'./product/ProductCreatePage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ProductEditPage <span class="token keyword">from</span> <span class="token string">'./product/ProductEditPage'</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/products/create"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ProductCreatePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/products/:categoryId"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ProductEditPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/products"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ProductsPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre></div>
<h2>transaksi pembelian</h2>
<h3>api</h3>
<p>buat file untuk manghandle api <code class="language-text">src/purchase/api.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseUrl <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_BASE_API_URL</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getPurchases</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> page <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/transactions/purchases?page=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">postPurchase</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    supplier_id<span class="token punctuation">,</span>
    details
  <span class="token punctuation">}</span> <span class="token operator">=</span> payload<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/transactions/purchases</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      supplier_id<span class="token punctuation">,</span>
      details
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getPurchase</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> purchaseId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/transactions/purchases/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>purchaseId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>list transaksi pembelian</h3>
<p>buat file untuk list pembelian <code class="language-text">src/purchase/PurchasesPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PaginationComponent <span class="token keyword">from</span> <span class="token string">'react-reactstrap-pagination'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PurchaseList <span class="token keyword">from</span> <span class="token string">'./components/PurchaseList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getPurchases <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">PurchasesPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> paginationState <span class="token operator">=</span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    perPage<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>paginationState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchPurchases</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getPurchases</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> page<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> current_page<span class="token punctuation">,</span> total<span class="token punctuation">,</span> per_page <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setPagination</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          data<span class="token punctuation">,</span>
          total<span class="token punctuation">,</span>
          page<span class="token operator">:</span> current_page<span class="token punctuation">,</span>
          perPage<span class="token operator">:</span> per_page
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> message <span class="token operator">=</span> error<span class="token punctuation">.</span>response
          <span class="token operator">?</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message
          <span class="token operator">:</span> <span class="token string">'Terjadi kesalahan, silahkan coba lagi'</span><span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"danger"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token punctuation">{</span>message<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchPurchases</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchPurchases</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">gotoItem</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
    history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/purchases/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Daftar Pembelian<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>

      <span class="token operator">&lt;</span>Button
        tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span>
        to<span class="token operator">=</span><span class="token string">"/purchases/create"</span>
        color<span class="token operator">=</span><span class="token string">"primary"</span>
        className<span class="token operator">=</span><span class="token string">"mb-3"</span>
      <span class="token operator">></span>
        Tambah
      <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>

      <span class="token operator">&lt;</span>PurchaseList data<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>data<span class="token punctuation">}</span> onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>gotoItem<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>

      <span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total <span class="token operator">></span> pagination<span class="token punctuation">.</span>perPage <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>PaginationComponent
          totalItems<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total<span class="token punctuation">}</span>
          pageSize<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>perPage<span class="token punctuation">}</span>
          activePage<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>page<span class="token punctuation">}</span>
          onSelect<span class="token operator">=</span><span class="token punctuation">{</span>changePage<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> PurchasesPage<span class="token punctuation">;</span></code></pre></div>
<p>buat file component <code class="language-text">src/purchase/components/PurchaseList.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Table <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PurchaseItem <span class="token keyword">from</span> <span class="token string">'./PurchaseItem'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">PurchaseList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> onItemSelected <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"table-responsive"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Table hover className<span class="token operator">=</span><span class="token string">"mb-3"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>thead<span class="token operator">></span>
          <span class="token operator">&lt;</span>tr<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token constant">ID</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Supplier<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Total<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span>
        <span class="token operator">&lt;</span>tbody<span class="token operator">></span>
          <span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">purchase</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>PurchaseItem
              key<span class="token operator">=</span><span class="token punctuation">{</span>purchase<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
              item<span class="token operator">=</span><span class="token punctuation">{</span>purchase<span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span>onItemSelected<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Table<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> PurchaseList<span class="token punctuation">;</span></code></pre></div>
<p>buat file component <code class="language-text">src/purchase/PurchaseItem.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatMoney <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">PurchaseItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> item<span class="token punctuation">,</span> onClick <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>tr onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">onClick</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>supplier<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span><span class="token function">formatMoney</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>total<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> PurchaseItem<span class="token punctuation">;</span></code></pre></div>
<p>tambahkan function di <code class="language-text">src/utils.js</code> untuk format angka</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">formatMoney</span><span class="token punctuation">(</span><span class="token parameter">amount</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>NumberFormat</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>tambah transaksi pembelian</h3>
<p>buat file untuk transaksi pembelian <code class="language-text">src/purchase/PurchaseCreatePage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  Alert<span class="token punctuation">,</span>
  Button<span class="token punctuation">,</span>
  Form<span class="token punctuation">,</span>
  FormGroup<span class="token punctuation">,</span>
  Label<span class="token punctuation">,</span>
  Input<span class="token punctuation">,</span>
  InputGroup<span class="token punctuation">,</span>
  InputGroupText<span class="token punctuation">,</span>
  InputGroupAddon
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SupplierSelectionModal <span class="token keyword">from</span> <span class="token string">'./components/SupplierSelectionModal'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ProductSelectionModal <span class="token keyword">from</span> <span class="token string">'./components/ProductSelectionModal'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PurchaseProductList <span class="token keyword">from</span> <span class="token string">'./components/PurchaseProductList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> postPurchase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError<span class="token punctuation">,</span> formatMoney <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">PurchaseCreatePage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>selectedSupplier<span class="token punctuation">,</span> setSelectedSupplier<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>purchaseItems<span class="token punctuation">,</span> setPurchaseItems<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>isSupplierModalOpen<span class="token punctuation">,</span> setSupplierModalOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isProductModalOpen<span class="token punctuation">,</span> setProductModalOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSelectProduct</span> <span class="token operator">=</span> <span class="token parameter">product</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> alreadyExists <span class="token operator">=</span> purchaseItems<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
      <span class="token parameter">_item</span> <span class="token operator">=></span> _item<span class="token punctuation">.</span>product_id <span class="token operator">===</span> product<span class="token punctuation">.</span>id
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>alreadyExists<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setPurchaseItems</span><span class="token punctuation">(</span>purchaseItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> newItem <span class="token operator">=</span> <span class="token punctuation">{</span>
        product_id<span class="token operator">:</span> product<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        qty<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        product
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token function">setPurchaseItems</span><span class="token punctuation">(</span>purchaseItems<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>newItem<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">setProductModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleItemQtyChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> qty</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newPurchaseItems <span class="token operator">=</span> purchaseItems<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">_item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_item<span class="token punctuation">.</span>product_id <span class="token operator">===</span> item<span class="token punctuation">.</span>product_id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>_item<span class="token punctuation">,</span>
          qty
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> _item<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setPurchaseItems</span><span class="token punctuation">(</span>newPurchaseItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleItemRemove</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newPurchaseItems <span class="token operator">=</span> purchaseItems<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>
      <span class="token parameter">_item</span> <span class="token operator">=></span> _item<span class="token punctuation">.</span>product_id <span class="token operator">!==</span> item<span class="token punctuation">.</span>product_id
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setPurchaseItems</span><span class="token punctuation">(</span>newPurchaseItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSelectSupplier</span> <span class="token operator">=</span> <span class="token parameter">supplier</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setSelectedSupplier</span><span class="token punctuation">(</span>supplier<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setSupplierModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
      supplier_id<span class="token operator">:</span> selectedSupplier<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
      details<span class="token operator">:</span> purchaseItems
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">postPurchase</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"success"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil tambah data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/purchases'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">calculateTotal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> purchaseItems<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">total<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=></span> total <span class="token operator">+</span> item<span class="token punctuation">.</span>qty <span class="token operator">*</span> item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>price_purchase<span class="token punctuation">,</span>
      <span class="token number">0</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Transaksi Pembelian<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>Form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>FormGroup<span class="token operator">></span>
          <span class="token operator">&lt;</span>Label<span class="token operator">></span>Supplier<span class="token operator">&lt;</span><span class="token operator">/</span>Label<span class="token operator">></span>
          <span class="token operator">&lt;</span>InputGroup<span class="token operator">></span>
            <span class="token operator">&lt;</span>Input
              value<span class="token operator">=</span><span class="token punctuation">{</span>selectedSupplier <span class="token operator">?</span> selectedSupplier<span class="token punctuation">.</span>name <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
              onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setSupplierModalOpen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
              placeholder<span class="token operator">=</span><span class="token string">"Pilih Supplier"</span>
              required
            <span class="token operator">/</span><span class="token operator">></span>
            <span class="token punctuation">{</span>selectedSupplier <span class="token operator">?</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>InputGroupAddon
                tag<span class="token operator">=</span><span class="token string">"a"</span>
                href<span class="token operator">=</span><span class="token string">"#"</span>
                className<span class="token operator">=</span><span class="token string">"text-decoration-none"</span>
                onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setSelectedSupplier</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                addonType<span class="token operator">=</span><span class="token string">"append"</span>
              <span class="token operator">></span>
                <span class="token operator">&lt;</span>InputGroupText<span class="token operator">></span>Hapus<span class="token operator">&lt;</span><span class="token operator">/</span>InputGroupText<span class="token operator">></span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>InputGroupAddon<span class="token operator">></span>
            <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>InputGroup<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>

        <span class="token operator">&lt;</span>PurchaseProductList
          items<span class="token operator">=</span><span class="token punctuation">{</span>purchaseItems<span class="token punctuation">}</span>
          onItemAdd<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setProductModalOpen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          onItemQtyChange<span class="token operator">=</span><span class="token punctuation">{</span>handleItemQtyChange<span class="token punctuation">}</span>
          onItemRemove<span class="token operator">=</span><span class="token punctuation">{</span>handleItemRemove<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>

        <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"display-4 text-bold font-weight-bold text-right"</span><span class="token operator">></span>
          <span class="token constant">TOTAL</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token function">formatMoney</span><span class="token punctuation">(</span><span class="token function">calculateTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>

        <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span> size<span class="token operator">=</span><span class="token string">"lg"</span><span class="token operator">></span>
          Simpan
        <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
      <span class="token operator">&lt;</span>ProductSelectionModal
        isOpen<span class="token operator">=</span><span class="token punctuation">{</span>isProductModalOpen<span class="token punctuation">}</span>
        toggle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setProductModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>handleSelectProduct<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>SupplierSelectionModal
        isOpen<span class="token operator">=</span><span class="token punctuation">{</span>isSupplierModalOpen<span class="token punctuation">}</span>
        toggle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setSupplierModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>handleSelectSupplier<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> PurchaseCreatePage<span class="token punctuation">;</span></code></pre></div>
<p>buat file untuk pilihan produk <code class="language-text">src/purchase/components/ProductSelectionModal.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Modal<span class="token punctuation">,</span> ModalHeader<span class="token punctuation">,</span> ModalBody<span class="token punctuation">,</span> ModalFooter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ProductList <span class="token keyword">from</span> <span class="token string">'../../product/components/ProductList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PaginationComponent <span class="token keyword">from</span> <span class="token string">'react-reactstrap-pagination'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getProducts <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../product/api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ProductSelectionModal</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> isOpen<span class="token punctuation">,</span> toggle<span class="token punctuation">,</span> onItemSelected <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

  <span class="token keyword">const</span> paginationState <span class="token operator">=</span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    perPage<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>paginationState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchProducts</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getProducts</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> page<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> current_page<span class="token punctuation">,</span> total<span class="token punctuation">,</span> per_page <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setPagination</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          data<span class="token punctuation">,</span>
          total<span class="token punctuation">,</span>
          page<span class="token operator">:</span> current_page<span class="token punctuation">,</span>
          perPage<span class="token operator">:</span> per_page
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchProducts</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchProducts</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Modal isOpen<span class="token operator">=</span><span class="token punctuation">{</span>isOpen<span class="token punctuation">}</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>toggle<span class="token punctuation">}</span> scrollable<span class="token operator">></span>
      <span class="token operator">&lt;</span>ModalHeader toggle<span class="token operator">=</span><span class="token punctuation">{</span>toggle<span class="token punctuation">}</span><span class="token operator">></span>Pilih Supplier<span class="token operator">&lt;</span><span class="token operator">/</span>ModalHeader<span class="token operator">></span>
      <span class="token operator">&lt;</span>ModalBody<span class="token operator">></span>
        <span class="token operator">&lt;</span>ProductList data<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>data<span class="token punctuation">}</span> onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>onItemSelected<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ModalBody<span class="token operator">></span>
      <span class="token operator">&lt;</span>ModalFooter<span class="token operator">></span>
        <span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total <span class="token operator">></span> pagination<span class="token punctuation">.</span>perPage <span class="token operator">?</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>PaginationComponent
            totalItems<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total<span class="token punctuation">}</span>
            pageSize<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>perPage<span class="token punctuation">}</span>
            activePage<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>page<span class="token punctuation">}</span>
            onSelect<span class="token operator">=</span><span class="token punctuation">{</span>changePage<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ModalFooter<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Modal<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProductSelectionModal<span class="token punctuation">;</span></code></pre></div>
<p>buat file untuk pilihan supplier <code class="language-text">src/purchase/components/SupplierSelectionModal.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Modal<span class="token punctuation">,</span> ModalHeader<span class="token punctuation">,</span> ModalBody<span class="token punctuation">,</span> ModalFooter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SupplierList <span class="token keyword">from</span> <span class="token string">'../../supplier/components/SupplierList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PaginationComponent <span class="token keyword">from</span> <span class="token string">'react-reactstrap-pagination'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getSuppliers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../supplier/api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SupplierSelectionModal</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> isOpen<span class="token punctuation">,</span> toggle<span class="token punctuation">,</span> onItemSelected <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

  <span class="token keyword">const</span> paginationState <span class="token operator">=</span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    perPage<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>paginationState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchSuppliers</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getSuppliers</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> page<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> current_page<span class="token punctuation">,</span> total<span class="token punctuation">,</span> per_page <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setPagination</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          data<span class="token punctuation">,</span>
          total<span class="token punctuation">,</span>
          page<span class="token operator">:</span> current_page<span class="token punctuation">,</span>
          perPage<span class="token operator">:</span> per_page
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchSuppliers</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchSuppliers</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Modal isOpen<span class="token operator">=</span><span class="token punctuation">{</span>isOpen<span class="token punctuation">}</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>toggle<span class="token punctuation">}</span> scrollable<span class="token operator">></span>
      <span class="token operator">&lt;</span>ModalHeader toggle<span class="token operator">=</span><span class="token punctuation">{</span>toggle<span class="token punctuation">}</span><span class="token operator">></span>Pilih Supplier<span class="token operator">&lt;</span><span class="token operator">/</span>ModalHeader<span class="token operator">></span>
      <span class="token operator">&lt;</span>ModalBody<span class="token operator">></span>
        <span class="token operator">&lt;</span>SupplierList data<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>data<span class="token punctuation">}</span> onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>onItemSelected<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ModalBody<span class="token operator">></span>
      <span class="token operator">&lt;</span>ModalFooter<span class="token operator">></span>
        <span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total <span class="token operator">></span> pagination<span class="token punctuation">.</span>perPage <span class="token operator">?</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>PaginationComponent
            totalItems<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total<span class="token punctuation">}</span>
            pageSize<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>perPage<span class="token punctuation">}</span>
            activePage<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>page<span class="token punctuation">}</span>
            onSelect<span class="token operator">=</span><span class="token punctuation">{</span>changePage<span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ModalFooter<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Modal<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SupplierSelectionModal<span class="token punctuation">;</span></code></pre></div>
<p>compnent untuk list detail pembelian <code class="language-text">src/purchase/components/PurchaseProductList.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> Table <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PurchaseProductItem <span class="token keyword">from</span> <span class="token string">'./PurchaseProductItem'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">PurchaseProductList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> items<span class="token punctuation">,</span> onItemAdd<span class="token punctuation">,</span> onItemQtyChange<span class="token punctuation">,</span> onItemRemove <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"table-responsive"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Table<span class="token operator">></span>
        <span class="token operator">&lt;</span>thead<span class="token operator">></span>
          <span class="token operator">&lt;</span>tr<span class="token operator">></span>
            <span class="token operator">&lt;</span>th <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token constant">ID</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Jml<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Harga<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Subtotal<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span>
        <span class="token operator">&lt;</span>tbody<span class="token operator">></span>
          <span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>PurchaseProductItem
              key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>product_id<span class="token punctuation">}</span>
              item<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span>
              onQtyChange<span class="token operator">=</span><span class="token punctuation">{</span>onItemQtyChange<span class="token punctuation">}</span>
              onRemove<span class="token operator">=</span><span class="token punctuation">{</span>onItemRemove<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span>
        <span class="token operator">&lt;</span>tfoot<span class="token operator">></span>
          <span class="token operator">&lt;</span>tr<span class="token operator">></span>
            <span class="token operator">&lt;</span>td colSpan<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"text-center"</span><span class="token operator">></span>
              <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"link"</span> size<span class="token operator">=</span><span class="token string">"sm"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>onItemAdd<span class="token punctuation">}</span><span class="token operator">></span>
                <span class="token punctuation">[</span><span class="token operator">+</span><span class="token punctuation">]</span> Tambah Item
              <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tfoot<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Table<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> PurchaseProductList<span class="token punctuation">;</span></code></pre></div>
<p>component untuk item detail pembelian <code class="language-text">src/purchase/components/PurchaseProductItem.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatMoney <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">PurchaseProductItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> item<span class="token punctuation">,</span> onRemove<span class="token punctuation">,</span> onQtyChange <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>tr<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button close onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">onRemove</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>product_id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span>
        <span class="token operator">&lt;</span>Input
          value<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>qty<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">onQtyChange</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
          type<span class="token operator">=</span><span class="token string">"number"</span>
          min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>
          style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> maxWidth<span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span><span class="token function">formatMoney</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>price_purchase<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span><span class="token function">formatMoney</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>qty <span class="token operator">*</span> item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>price_purchase<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> PurchaseProductItem<span class="token punctuation">;</span></code></pre></div>
<h3>routing</h3>
<p>tambahkan routing di <code class="language-text">src/ProtectedPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> PurchasesPage <span class="token keyword">from</span> <span class="token string">'./purchase/PurchasesPage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PurchaseCreatePage <span class="token keyword">from</span> <span class="token string">'./purchase/PurchaseCreatePage'</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/purchases/create"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PurchaseCreatePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/purchases"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>PurchasesPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre></div>
<h2>transaksi penjualan</h2>
<h3>api</h3>
<p>buat file untuk handle api <code class="language-text">src/sale/api.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baseUrl <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_BASE_API_URL</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getSales</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> page <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/transactions/sales?page=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">postSale</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    pay<span class="token punctuation">,</span>
    details
  <span class="token punctuation">}</span> <span class="token operator">=</span> payload<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/transactions/sales</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
      pay<span class="token punctuation">,</span>
      details
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getSale</span><span class="token punctuation">(</span><span class="token parameter">token<span class="token punctuation">,</span> saleId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>baseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/transactions/sales/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>saleId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      Accept<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
      Authorization<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bearer </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>list transaksi penjualan</h3>
<p>buat file untuk list penjualan <code class="language-text">src/sale/SalesPage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PaginationComponent <span class="token keyword">from</span> <span class="token string">'react-reactstrap-pagination'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SaleList <span class="token keyword">from</span> <span class="token string">'./components/SaleList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getSales <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SalesPage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> paginationState <span class="token operator">=</span> <span class="token punctuation">{</span>
    data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    total<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    page<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    perPage<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>pagination<span class="token punctuation">,</span> setPagination<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>paginationState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchSales</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">getSales</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> page<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> current_page<span class="token punctuation">,</span> total<span class="token punctuation">,</span> per_page <span class="token punctuation">}</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">setPagination</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          data<span class="token punctuation">,</span>
          total<span class="token punctuation">,</span>
          page<span class="token operator">:</span> current_page<span class="token punctuation">,</span>
          perPage<span class="token operator">:</span> per_page
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> message <span class="token operator">=</span> error<span class="token punctuation">.</span>response
          <span class="token operator">?</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message
          <span class="token operator">:</span> <span class="token string">'Terjadi kesalahan, silahkan coba lagi'</span><span class="token punctuation">;</span>
        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"danger"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            <span class="token punctuation">{</span>message<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchSales</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">fetchSales</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">gotoItem</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
    history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/sales/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Daftar Penjualan<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>

      <span class="token operator">&lt;</span>Button
        tag<span class="token operator">=</span><span class="token punctuation">{</span>Link<span class="token punctuation">}</span>
        to<span class="token operator">=</span><span class="token string">"/sales/create"</span>
        color<span class="token operator">=</span><span class="token string">"primary"</span>
        className<span class="token operator">=</span><span class="token string">"mb-3"</span>
      <span class="token operator">></span>
        Tambah
      <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>

      <span class="token operator">&lt;</span>SaleList data<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>data<span class="token punctuation">}</span> onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>gotoItem<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>

      <span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total <span class="token operator">></span> pagination<span class="token punctuation">.</span>perPage <span class="token operator">?</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>PaginationComponent
          totalItems<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>total<span class="token punctuation">}</span>
          pageSize<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>perPage<span class="token punctuation">}</span>
          activePage<span class="token operator">=</span><span class="token punctuation">{</span>pagination<span class="token punctuation">.</span>page<span class="token punctuation">}</span>
          onSelect<span class="token operator">=</span><span class="token punctuation">{</span>changePage<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SalesPage<span class="token punctuation">;</span></code></pre></div>
<p>component untuk list penjualan <code class="language-text">src/sale/components/SaleList.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Table <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SaleItem <span class="token keyword">from</span> <span class="token string">'./SaleItem'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SaleList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> onItemSelected <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"table-responsive"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Table hover className<span class="token operator">=</span><span class="token string">"mb-3"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>thead<span class="token operator">></span>
          <span class="token operator">&lt;</span>tr<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token constant">ID</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Total<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span>
        <span class="token operator">&lt;</span>tbody<span class="token operator">></span>
          <span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">sale</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>SaleItem
              key<span class="token operator">=</span><span class="token punctuation">{</span>sale<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
              item<span class="token operator">=</span><span class="token punctuation">{</span>sale<span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span>onItemSelected<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Table<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SaleList<span class="token punctuation">;</span></code></pre></div>
<p>component item di list penjualan <code class="language-text">src/sale/components/SaleItem.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatMoney <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">PurchaseItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> item<span class="token punctuation">,</span> onClick <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>tr onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">onClick</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span><span class="token function">formatMoney</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>total<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> PurchaseItem<span class="token punctuation">;</span></code></pre></div>
<h3>tambah transaksi penjualan</h3>
<p>buat file untuk halaman transaksi penjualan <code class="language-text">src/sale/SaleCreatePage.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Alert<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Form<span class="token punctuation">,</span> FormGroup<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ProductSelectionModal <span class="token keyword">from</span> <span class="token string">'../purchase/components/ProductSelectionModal'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SaleProductList <span class="token keyword">from</span> <span class="token string">'./components/SaleProductList'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> postSale <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./api'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getToken<span class="token punctuation">,</span> handleError<span class="token punctuation">,</span> formatMoney <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../utils'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toast <span class="token keyword">from</span> <span class="token string">'toasted-notes'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SaleCreatePage</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>pay<span class="token punctuation">,</span> setPayAmount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>saleItems<span class="token punctuation">,</span> setSaleItems<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>isProductModalOpen<span class="token punctuation">,</span> setProductModalOpen<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSelectProduct</span> <span class="token operator">=</span> <span class="token parameter">product</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> alreadyExists <span class="token operator">=</span> saleItems<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
      <span class="token parameter">_item</span> <span class="token operator">=></span> _item<span class="token punctuation">.</span>product_id <span class="token operator">===</span> product<span class="token punctuation">.</span>id
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>alreadyExists<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setSaleItems</span><span class="token punctuation">(</span>saleItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> newItem <span class="token operator">=</span> <span class="token punctuation">{</span>
        product_id<span class="token operator">:</span> product<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
        qty<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        product
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token function">setSaleItems</span><span class="token punctuation">(</span>saleItems<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>newItem<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">setProductModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleItemQtyChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> qty</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newSaleItems <span class="token operator">=</span> saleItems<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">_item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_item<span class="token punctuation">.</span>product_id <span class="token operator">===</span> item<span class="token punctuation">.</span>product_id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>_item<span class="token punctuation">,</span>
          qty
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> _item<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setSaleItems</span><span class="token punctuation">(</span>newSaleItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleItemRemove</span> <span class="token operator">=</span> <span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newSaleItems <span class="token operator">=</span> saleItems<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>
      <span class="token parameter">_item</span> <span class="token operator">=></span> _item<span class="token punctuation">.</span>product_id <span class="token operator">!==</span> item<span class="token punctuation">.</span>product_id
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setSaleItems</span><span class="token punctuation">(</span>newSaleItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> token <span class="token operator">=</span> <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
      pay<span class="token punctuation">,</span>
      details<span class="token operator">:</span> saleItems
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">postSale</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>change <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Kembalian: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">formatMoney</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>change<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            duration<span class="token operator">:</span> <span class="token keyword">null</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        toast<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onClose <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Alert color<span class="token operator">=</span><span class="token string">"success"</span> toggle<span class="token operator">=</span><span class="token punctuation">{</span>onClose<span class="token punctuation">}</span><span class="token operator">></span>
            Berhasil tambah data
          <span class="token operator">&lt;</span><span class="token operator">/</span>Alert<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// reset</span>
        <span class="token function">setPayAmount</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setSaleItems</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setProductModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">handleError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">calculateTotal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> saleItems<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">total<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=></span> total <span class="token operator">+</span> item<span class="token punctuation">.</span>qty <span class="token operator">*</span> item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>price_sale<span class="token punctuation">,</span>
      <span class="token number">0</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"mb-5"</span><span class="token operator">></span>Transaksi Penjualan<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>Form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>SaleProductList
          items<span class="token operator">=</span><span class="token punctuation">{</span>saleItems<span class="token punctuation">}</span>
          onItemAdd<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setProductModalOpen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          onItemQtyChange<span class="token operator">=</span><span class="token punctuation">{</span>handleItemQtyChange<span class="token punctuation">}</span>
          onItemRemove<span class="token operator">=</span><span class="token punctuation">{</span>handleItemRemove<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>

        <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"display-4 text-bold font-weight-bold text-right"</span><span class="token operator">></span>
          <span class="token constant">TOTAL</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token function">formatMoney</span><span class="token punctuation">(</span><span class="token function">calculateTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>

        <span class="token operator">&lt;</span>FormGroup className<span class="token operator">=</span><span class="token string">"text-right"</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Input
            value<span class="token operator">=</span><span class="token punctuation">{</span>pay<span class="token punctuation">}</span>
            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">setPayAmount</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
            type<span class="token operator">=</span><span class="token string">"number"</span>
            min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">calculateTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
            required
            placeholder<span class="token operator">=</span><span class="token string">"Jumlah Bayar"</span>
            className<span class="token operator">=</span><span class="token string">"float-right text-right font-weight-bold"</span>
            style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
              maxWidth<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
              fontSize<span class="token operator">:</span> <span class="token number">48</span>
            <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>FormGroup<span class="token operator">></span>

        <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"primary"</span> size<span class="token operator">=</span><span class="token string">"lg"</span><span class="token operator">></span>
          Simpan
        <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">></span>
      <span class="token operator">&lt;</span>ProductSelectionModal
        isOpen<span class="token operator">=</span><span class="token punctuation">{</span>isProductModalOpen<span class="token punctuation">}</span>
        toggle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setProductModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onItemSelected<span class="token operator">=</span><span class="token punctuation">{</span>handleSelectProduct<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SaleCreatePage<span class="token punctuation">;</span></code></pre></div>
<p>karena <code class="language-text">ProductSelectionModal</code> sudah ada, pakai component yg sama dari sebelumnya.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> ProductSelectionModal <span class="token keyword">from</span> <span class="token string">'../purchase/components/ProductSelectionModal'</span><span class="token punctuation">;</span></code></pre></div>
<p>buat file untuk detail penjualan <code class="language-text">src/sale/components/SaleProductList.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> Table <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SaleProductItem <span class="token keyword">from</span> <span class="token string">'./SaleProductItem'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">SaleProductList</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> items<span class="token punctuation">,</span> onItemAdd<span class="token punctuation">,</span> onItemQtyChange<span class="token punctuation">,</span> onItemRemove <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"table-responsive"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>Table<span class="token operator">></span>
        <span class="token operator">&lt;</span>thead<span class="token operator">></span>
          <span class="token operator">&lt;</span>tr<span class="token operator">></span>
            <span class="token operator">&lt;</span>th <span class="token operator">/</span><span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span><span class="token constant">ID</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Nama<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Stok<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Jml<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Harga<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
            <span class="token operator">&lt;</span>th<span class="token operator">></span>Subtotal<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">></span>
        <span class="token operator">&lt;</span>tbody<span class="token operator">></span>
          <span class="token punctuation">{</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>SaleProductItem
              key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>product_id<span class="token punctuation">}</span>
              item<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span>
              onQtyChange<span class="token operator">=</span><span class="token punctuation">{</span>onItemQtyChange<span class="token punctuation">}</span>
              onRemove<span class="token operator">=</span><span class="token punctuation">{</span>onItemRemove<span class="token punctuation">}</span>
            <span class="token operator">/</span><span class="token operator">></span>
          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">></span>
        <span class="token operator">&lt;</span>tfoot<span class="token operator">></span>
          <span class="token operator">&lt;</span>tr<span class="token operator">></span>
            <span class="token operator">&lt;</span>td colSpan<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token string">"text-center"</span><span class="token operator">></span>
              <span class="token operator">&lt;</span>Button color<span class="token operator">=</span><span class="token string">"link"</span> size<span class="token operator">=</span><span class="token string">"sm"</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>onItemAdd<span class="token punctuation">}</span><span class="token operator">></span>
                <span class="token punctuation">[</span><span class="token operator">+</span><span class="token punctuation">]</span> Tambah Item
              <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tfoot<span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Table<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SaleProductList<span class="token punctuation">;</span></code></pre></div>
<p>dan untuk detail item <code class="language-text">src/sale/components/SaleProductItem.js</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'reactstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatMoney <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../utils'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">PurchaseProductItem</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> item<span class="token punctuation">,</span> onRemove<span class="token punctuation">,</span> onQtyChange <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>tr<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span>
        <span class="token operator">&lt;</span>Button close onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">onRemove</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>product_id<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>stock<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span>
        <span class="token operator">&lt;</span>Input
          value<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>qty<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">onQtyChange</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span>
          type<span class="token operator">=</span><span class="token string">"number"</span>
          min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>
          max<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>stock<span class="token punctuation">}</span>
          style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> maxWidth<span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span><span class="token function">formatMoney</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>price_sale<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
      <span class="token operator">&lt;</span>td<span class="token operator">></span><span class="token punctuation">{</span><span class="token function">formatMoney</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>qty <span class="token operator">*</span> item<span class="token punctuation">.</span>product<span class="token punctuation">.</span>price_sale<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> PurchaseProductItem<span class="token punctuation">;</span></code></pre></div>
<h3>routing</h3>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> SalesPage <span class="token keyword">from</span> <span class="token string">'./sale/SalesPage'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> SaleCreatePage <span class="token keyword">from</span> <span class="token string">'./sale/SaleCreatePage'</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/sales/create"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>SaleCreatePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/sales"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>SalesPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span></code></pre></div>
<h2>laporan dashboard</h2>
<h3>laporan pembelian</h3>
<h3>laporan penjualan</h3>
<h3>laporan stock / inventory</h3>
<h3>laporan laba rugi</h3></section><hr style="margin-bottom:1.75rem"/><footer><div style="display:flex;align-items:center;margin-bottom:4.375rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.875rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQIF/9oADAMBAAIQAxAAAAG9Lc9Z0ArbEEA//8QAGBAAAwEBAAAAAAAAAAAAAAAAAQIQEQD/2gAIAQEAAQUC5jlJ2Pf/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEhP//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CH//EABkQAAMAAwAAAAAAAAAAAAAAAAEQEQAhYf/aAAgBAQABPyHIOuiotAP/2gAMAwEAAgADAAAAEHQQQf/EABcRAQADAAAAAAAAAAAAAAAAABABETH/2gAIAQMBAT8QhZg//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAGRABAAMBAQAAAAAAAAAAAAAAAQAQMSGB/9oACAEBAAE/EJi6ylAV4EZV5SBMXt//2Q==" alt="Yeri" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/blog/static/bc48358bf32e34f2ed42980f32f0e21f/99438/profile-pic.jpg 1x,
/blog/static/bc48358bf32e34f2ed42980f32f0e21f/aba1d/profile-pic.jpg 1.5x,
/blog/static/bc48358bf32e34f2ed42980f32f0e21f/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/blog/static/bc48358bf32e34f2ed42980f32f0e21f/99438/profile-pic.jpg 1x,
/blog/static/bc48358bf32e34f2ed42980f32f0e21f/aba1d/profile-pic.jpg 1.5x,
/blog/static/bc48358bf32e34f2ed42980f32f0e21f/b315d/profile-pic.jpg 2x" src="/blog/static/bc48358bf32e34f2ed42980f32f0e21f/99438/profile-pic.jpg" alt="Yeri" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div>Written by <strong>Yeri</strong></div></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/blog/wifi-connection-in-cli-with-nmcli/">← <!-- -->Wifi connection in cli with nmcli</a></li><li><a rel="next" href="/blog/fresh-javascript-morning-cleaner-loop/">Fresh javascript morning - cleaner loop<!-- --> →</a></li></ul></nav></main><footer><a href="https://github.com/pirey" target="_blank" rel="noreferrer">Github</a> <a href="https://github.com/pratama.yeri" target="_blank" rel="noreferrer">Facebook</a> <a href="https://github.com/_pirey" target="_blank" rel="noreferrer">Twitter</a> </footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-177448852-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/ajaro-coding-day/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-8e61bd70da3c6ee3e602.js"],"app":["/app-5cb00fa24525c69c4cd8.js"],"component---src-pages-404-js":["/component---src-pages-404-js-9578b926700cf49bb4fc.js"],"component---src-pages-index-js":["/component---src-pages-index-js-61ded38e1f5190610b6c.js"],"component---src-pages-using-typescript-tsx":["/component---src-pages-using-typescript-tsx-f16d60f62c7d2b3e9bcc.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-e406619546551510fa9d.js"]};/*]]>*/</script><script src="/blog/polyfill-8e61bd70da3c6ee3e602.js" nomodule=""></script><script src="/blog/component---src-templates-blog-post-js-e406619546551510fa9d.js" async=""></script><script src="/blog/commons-6248b7e46ec57bd08fee.js" async=""></script><script src="/blog/app-5cb00fa24525c69c4cd8.js" async=""></script><script src="/blog/framework-fd2b85530eec85104a39.js" async=""></script><script src="/blog/styles-fa79fef4936efa84b233.js" async=""></script><script src="/blog/webpack-runtime-d63009716bf721f849e1.js" async=""></script></body></html>