{"componentChunkName":"component---src-templates-blog-post-js","path":"/vim-no-frills/","result":{"data":{"site":{"siteMetadata":{"title":"Yeri's Blog"}},"markdownRemark":{"id":"a599ad84-d34e-5d61-a41a-6606802c1839","excerpt":"This is how I setup my vim to be simpler. And here’s some of the things that I try to simplify, or even get rid of it entirely. Statusline One of the popular…","html":"<p>This is how I setup my vim to be simpler. And here’s some of the things that I try to simplify, or even get rid of it entirely.</p>\n<h2>Statusline</h2>\n<p>One of the popular vim plugin for statusline is <a href=\"https://github.com/vim-airline/vim-airline\">vim-airline</a>. I once like how it display neat info and stuff that I can admire while I’m writing code.</p>\n<p>Then I realized that not only I don’t needed most of the information, it also makes my vim slower. I mean, I want to use CLI app to work more efficiently, not slowly.</p>\n<p>So I get rid of it. My statusline became simpler, but I still think that it somehow get in my way. I need (want) to focus on the code. So I ended up get rid of the built-in statusline as well.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token comment\">\" use this to always hide the statusline</span>\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">laststatus</span><span class=\"token operator\">=</span><span class=\"token number\">0</span></code></pre></div>\n<p>And from this, I realized that I don’t really need many other UI fancyness when I’m writing code.</p>\n<h2>Line Number</h2>\n<p>Now I know lots of people will think I’m nuts. How can we comfortably  write code without looking at the line number?</p>\n<p>But again, if we really think about it, when we write code, how often do we need to see the line number? For me, I usually only need to see the line number when there’s error that I need to fix. And in vim I can easily go to any line using colon <code class=\"language-text\">:</code> followed by the line number. So, what gives?</p>\n<p>So I get it of it also.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">set</span> <span class=\"token builtin\">nonumber</span></code></pre></div>\n<p>However, there’s a little issue with this. Basically I need to add a little padding in the left side of the screen so that I can let my eyes breathe. Vim has something called <code class=\"language-text\">signcolumn</code>, to display little flag in beside line number. So I set it to always be displayed to act as padding.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">set</span> signcolumn<span class=\"token operator\">=</span>yes</code></pre></div>\n<h2>Vertical Split</h2>\n<p>For me, the way vim display vertical split separator between windowsis just not feels right. Its too bulky. I found a way to make it simple, that is just get rid of it.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token comment\">\" use single space as vertsplit separator</span>\n\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">fillchars</span><span class=\"token operator\">+=</span><span class=\"token keyword\">vert</span><span class=\"token punctuation\">:</span>\\ <span class=\"token comment\">\" here I put comment so that vim capture the space</span></code></pre></div>\n<p>This however, make it harder to differentiate content of horizontally split windows. But I mostly only use vertical split, and never really open more than two windows for a long period, so this is not a problem for me.</p>\n<h2>Smuggle that squiggle</h2>\n<p>I always hate how vim display that funny squiggles in the beginning of every empty lines.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">This is some content in a file.\nThen comes tons of squiggles after this.\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~\n~</code></pre></div>\n<p>I mean, wth is even that? Let’s get rid of it. Well, unfortunately there’s no option to completely remove it, but we can workaround that, we software developer are good in doing it, aren’t we?</p>\n<p>Instead of removing it, because of course its not possible, we can change the highlight color for the squiggles <code class=\"language-text\">~</code>, by setting the highlight of <code class=\"language-text\">EndOfBuffer</code> highlight group.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">hi EndOfBuffer ctermfg=0</code></pre></div>\n<p>Basically we change the foreground color to <code class=\"language-text\">0</code>, this usually matches with the color of the background, so we can somehow make it dissapear.</p>\n<h2>Fold</h2>\n<p>Vim built-in fold highlight is plain ugly. But we can change it using <code class=\"language-text\">&#39;foldtext&#39;</code> option in vim. You can read more about it using <code class=\"language-text\">:h foldtext</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">function</span><span class=\"token operator\">!</span> <span class=\"token function\">NeatFoldText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">let</span> line <span class=\"token operator\">=</span> <span class=\"token function\">getline</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">:</span>foldstart<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">let</span> nucolwidth <span class=\"token operator\">=</span> &amp;<span class=\"token builtin\">fdc</span> <span class=\"token operator\">+</span> &amp;<span class=\"token keyword\">number</span> <span class=\"token operator\">*</span> &amp;<span class=\"token builtin\">numberwidth</span>\n    <span class=\"token keyword\">let</span> windowwidth <span class=\"token operator\">=</span> <span class=\"token function\">winwidth</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> nucolwidth <span class=\"token operator\">-</span> <span class=\"token number\">3</span>\n    <span class=\"token keyword\">let</span> foldedlinecount <span class=\"token operator\">=</span> v<span class=\"token punctuation\">:</span>foldend <span class=\"token operator\">-</span> v<span class=\"token punctuation\">:</span>foldstart\n\n    <span class=\"token comment\">\" expand tabs into spaces</span>\n    <span class=\"token keyword\">let</span> onetab <span class=\"token operator\">=</span> <span class=\"token function\">strpart</span><span class=\"token punctuation\">(</span><span class=\"token string\">'          '</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> &amp;<span class=\"token builtin\">tabstop</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">let</span> line <span class=\"token operator\">=</span> <span class=\"token function\">substitute</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">,</span> <span class=\"token string\">'\\t'</span><span class=\"token punctuation\">,</span> onetab<span class=\"token punctuation\">,</span> <span class=\"token string\">'g'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">let</span> line <span class=\"token operator\">=</span> <span class=\"token function\">strpart</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> windowwidth <span class=\"token operator\">-</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>foldedlinecount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">let</span> fillcharcount <span class=\"token operator\">=</span> windowwidth <span class=\"token operator\">-</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>foldedlinecount<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> line <span class=\"token operator\">.</span> <span class=\"token string\">'…'</span> <span class=\"token operator\">.</span> <span class=\"token function\">repeat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span>fillcharcount<span class=\"token punctuation\">)</span> <span class=\"token operator\">.</span> foldedlinecount <span class=\"token operator\">.</span> <span class=\"token string\">'…'</span> <span class=\"token operator\">.</span> <span class=\"token string\">' '</span>\n<span class=\"token keyword\">endfunction</span>\n\n<span class=\"token keyword\">set</span> <span class=\"token builtin\">foldtext</span><span class=\"token operator\">=</span><span class=\"token function\">NeatFoldText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>NOTE:</strong> I found the script to modify the foldtext on the internet, but I forget where did I found it. If you feel that you’re the one made it, thank you! And let me know about it, I’ll update this post with proper credit.</p>\n<h2>Nerdtree</h2>\n<p>No, I’m not saying I’m getting rid of nerdtree. For this, I only get rid of the (▸) symbol for directory prefix. It also has a ‘MinimalUI’ option, so I use that.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> NERDTreeDirArrowExpandable <span class=\"token operator\">=</span> <span class=\"token string\">' '</span>\n<span class=\"token keyword\">let</span> NERDTreeDirArrowCollapsible <span class=\"token operator\">=</span> <span class=\"token string\">' '</span>\n<span class=\"token keyword\">let</span> NERDTreeMinimalUI <span class=\"token operator\">=</span> <span class=\"token number\">1</span></code></pre></div>\n<h2>FZF</h2>\n<p>By default fzf comes with its own highlight colors, so I need to adjust it to match my setup.</p>\n<div class=\"gatsby-highlight\" data-language=\"vim\"><pre class=\"language-vim\"><code class=\"language-vim\"><span class=\"token keyword\">let</span> $FZF_DEFAULT_OPTS <span class=\"token operator\">=</span> <span class=\"token string\">'--color=16,fg:8,bg:-1,fg+:7,bg+:-1,gutter:-1,pointer:4,info:-1,border:-1,prompt:-1,header:-1'</span></code></pre></div>\n<h2>Screenshots</h2>\n<p><a href=\"vim-no-frills.png\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAB10lEQVQoz2WSyZKjMAyGuXQgDSEhkx284A1MwBhsssx0zvP+bzRK0tWXqfoOsqVf9Ut28FHQEJfA7EWERUQ4ECL2kdP/mX1DZgUJIsRORm0bGVIelTzTbaa7pWoSoULMoMv8xSdAeUzYDwlhASRy259M+y5aqnpVN6msk1KmvEq5SrlccrWWKjftVlUbqTIhV4xvhAzmqDy6y96OC1GBYN+box+3Xb9rzb63+Or25/ZoTGFt6UZketx1GZcp41vOg9mpWHC5UjoVainrXW9PzufO5d6zP/fx76N+XKkbyWDpOAg3cGv2VZU3es3BNiJZpX81bVzydaWxm9AwncxwsGMxeXGfxN3Vv53wY+kH6WzR6K0QvGsWmDzFS6EyVc0R3upa36bKe9zbQ9Nu6jO02zVa3nr9NcjJ7JRc0jLGBGYOcwTbpqCPchQVKKElGi32Ax4t8Y46J6++eVz014Vd3O58TrhYAEKlsprjMljwKmEKVhVTDmfsPb/fjn1PL5dyupJpOph+1/Xr+pyBkeacigpWA48C9UFMBZAwCV2Aje42tYFgJeoVV5/wfwoC7iJwBxQkLPAsR+AZggDScSmeUPgJbI7ZHEpfRSF6y76Vz5sChQgGxO/4H0WPUgr7+Hg5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vim no frills\"\n        title=\"vim no frills\"\n        src=\"/blog/static/d85c6337a9059fb8283553846a613383/fcda8/vim-no-frills.png\"\n        srcset=\"/blog/static/d85c6337a9059fb8283553846a613383/12f09/vim-no-frills.png 148w,\n/blog/static/d85c6337a9059fb8283553846a613383/e4a3f/vim-no-frills.png 295w,\n/blog/static/d85c6337a9059fb8283553846a613383/fcda8/vim-no-frills.png 590w,\n/blog/static/d85c6337a9059fb8283553846a613383/efc66/vim-no-frills.png 885w,\n/blog/static/d85c6337a9059fb8283553846a613383/c83ae/vim-no-frills.png 1180w,\n/blog/static/d85c6337a9059fb8283553846a613383/ad00e/vim-no-frills.png 1366w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></a></p>\n<p><a href=\"vim-no-frills-fold.png\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8klEQVQozz2R2Y6cMBREeQnQwNAL0BvgHRtjG7P0mp7RRBnl/38p7p4o0nmw7Kq68i3Pr3AAyILwiPEQsR8l+sZ3VMgHJKjxCxJWJCix/+8V+hX0whrHuMntkDAREf7UgWdc8LKlShd2OkynvZq2Tb+hMsEswTRF7A1SL4I0oTzvzUp0CW5ixKIn1N07lp06zqfDMJXDyOwVyvHAdUb5GtOcMG8B8LIVayVzJTPZ5rLbtJ0LeqN8I1p4nev5BKYJzzMbZyA0kiZDLAUop8Tzj9VSiMzoQqutUYXWu05tpdoIuTdaf13l551dTs3lzM4zHnpkVEbIltE1xt6ihoXVu9kWipeDBsNYa7vXJpOq6Dp068Wvc//73j0u8n7h03BomDMT1SYAPs25VuVlPlhDb3P/+d5eL+Q0743JhPuFZB8/7Z93+3VvH6et4EuEoxquiNt85YUVTAhbte1GtjtpKmUr1dd9fzS6NAaPvfq4qseNnOeik/6xdgQVcK7AVZUQvm7Vth/WolsxuZe61CbFtBCy1PZo7LoRKWsiSJw6rJFb8H+82PXB28KOubZZZ3Zq3HXDRjwXtmI86/TODEVjUipiSBYAhTV8Tq5hWAEvAjghTeriKXcH13MM6LcuKEGMyLIRS9iksIkBCYFz1kH5oqr/AlAiU8YXMRybAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vim no frills fold\"\n        title=\"vim no frills fold\"\n        src=\"/blog/static/350f6a1a25500a0fc1f54abbbf88c9e6/fcda8/vim-no-frills-fold.png\"\n        srcset=\"/blog/static/350f6a1a25500a0fc1f54abbbf88c9e6/12f09/vim-no-frills-fold.png 148w,\n/blog/static/350f6a1a25500a0fc1f54abbbf88c9e6/e4a3f/vim-no-frills-fold.png 295w,\n/blog/static/350f6a1a25500a0fc1f54abbbf88c9e6/fcda8/vim-no-frills-fold.png 590w,\n/blog/static/350f6a1a25500a0fc1f54abbbf88c9e6/efc66/vim-no-frills-fold.png 885w,\n/blog/static/350f6a1a25500a0fc1f54abbbf88c9e6/c83ae/vim-no-frills-fold.png 1180w,\n/blog/static/350f6a1a25500a0fc1f54abbbf88c9e6/ad00e/vim-no-frills-fold.png 1366w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></a></p>\n<p>Nice.</p>\n<p><strong>NOTE:</strong> We can also use this nice plugin called <a href=\"https://github.com/junegunn/goyo.vim\">goyo</a> by <a href=\"https://github.com/junegunn\">junegunn</a> (the same author that writes fzf and some other nice stuff, go check him out) to achieve similar functionality as I mentioned above. It is a plugin that let you go into <em>zen</em> mode in vim, without UI distractions. In fact, I was inspired by it, but unlike that plugin, I want to be in the zen mode all the time.</p>","frontmatter":{"title":"Vim with no frills","date":"June 25, 2019","description":"It's vim, but with no frills. I don't know what's the meaning, either."}}},"pageContext":{"slug":"/vim-no-frills/","previous":{"fields":{"slug":"/init-your-dotfiles/"},"frontmatter":{"title":"Init your dotfiles"}},"next":{"fields":{"slug":"/dont-use-vim/"},"frontmatter":{"title":"Don't use vim"}}}},"staticQueryHashes":["1246554614","2841359383"]}